(this["webpackJsonpqhacks-frontend"]=this["webpackJsonpqhacks-frontend"]||[]).push([[0],{49:function(e,t,a){e.exports=a(59)},54:function(e,t,a){},55:function(e,t,a){},59:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(9),i=a.n(o),s=(a(54),a(55),a(24)),l=a(15),c=a(29),m=a(30),h=a(35),u=a(94),d=a(97),p=a(101),g=a(99),b=a(106),f=a(100),v=a(105),y=Object(u.a)({card:{minWidth:275},title:{fontSize:14},pos:{marginTop:5}});function k(e){var t,a=y();return r.a.createElement(d.a,{className:a.card},r.a.createElement("hr",{style:{width:"97%",backgroundColor:"#e3e3e3",color:"#e3e3e3",border:"1px solid #e3e3e3"}}),r.a.createElement(g.a,{style:{display:"flex",justifyContent:"space-between"}},r.a.createElement("div",null,r.a.createElement(f.a,{className:a.title,color:"textSecondary",gutterBottom:!0},e.unit?"".concat((t=e.unit,isNaN(t)||(t="Unit "+t),t)):"Entire House"),r.a.createElement(f.a,{style:{textTransform:"capitalize"},variant:"h5",component:"h2"},e.address),r.a.createElement(f.a,{className:a.pos,color:"textSecondary"},"".concat(e.bedrooms," bedrooms")+(e.bathrooms?" \xb7 ".concat(e.bathrooms," baths"):"")))),r.a.createElement(p.a,{style:{display:"flex",justifyContent:"space-between"}},r.a.createElement(b.a,{onClick:function(){return window.open(e.link,"_blank")},size:"small"},"View Listing"),r.a.createElement(v.a,{fontWeight:"fontWeightBold",style:{marginRight:"10px"}},"$".concat(e.price," CAD / month"))))}var x=a(27),E=a.n(x);E.a.accessToken="pk.eyJ1IjoiaHVyYW5pIiwiYSI6ImNrOXAyb2xzZTA2dWkzZm9nYzk4cTc1b24ifQ.ku3RdymnlXjzFViYd4-Z2Q";var L=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={lat:44.2312,lng:-76.486},a.markers=[],a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.map=new E.a.Map({container:this.mapContainer,style:"mapbox://styles/mapbox/streets-v9",zoom:12,center:[this.state.lng,this.state.lat]}),this.props.refreshListings(this.map.getCenter()[1],this.map.getCenter()[0]),this.map.on("click",(function(t){e.marker&&e.marker.remove(),e.props.updateLngLat(t.lngLat),e.marker=(new E.a.Marker).setLngLat(t.lngLat).addTo(e.map),e.setState({lat:t.lngLat.lat,lng:t.lngLat.lng}),e.map.setCenter(t.lngLat),e.props.refreshListings(t.lngLat.lat,t.lngLat.lng)}))}},{key:"distance",value:function(e,t,a,n){var r=e*Math.PI/180,o=a*Math.PI/180,i=(a-e)*Math.PI/180,s=(n-t)*Math.PI/180,l=Math.sin(i/2)*Math.sin(i/2)+Math.cos(r)*Math.cos(o)*Math.sin(s/2)*Math.sin(s/2);return 6371e3*(2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l)))}},{key:"componentWillUnmount",value:function(){this.map.remove()}},{key:"render",value:function(){var e=this;return this.markers.forEach((function(e){return e.remove()})),this.props.listings.forEach((function(t,a){var n=document.createElement("div");n.style.width="max-content",n.style.height="max-content",n.style.margin="10px 0 0 -10px",n.style.background="white",n.style.MozBorderRadius="10px",n.style.WebkitBorderRadius="10px",n.style.borderRadius="10px",n.style.padding="3px",n.style.boxShadow="rgba(0, 0, 0, 0.08) 0px 0px 0px 1px, rgba(0, 0, 0, 0.18) 0px 1px 2px",n.style.backgroundColor=e.distance(t.lngLat[1],t.lngLat[0],e.state.lat,e.state.lng)<e.props.distance?"#afeb78":"#ffffff",n.textContent="$".concat(t.price," CAD"),n.onclick=function(e){e.stopPropagation(),window.open(t.link)},e.markers.push(new E.a.Marker(n).setLngLat(t.lngLat).addTo(e.map))})),r.a.createElement("div",{style:{position:"fixed",top:0,right:0,float:"right",width:"50vw",height:"100%"},ref:function(t){return e.mapContainer=t},className:"mapContainer"})}}]),t}(r.a.Component),w=a(102),C=a(103),M=a(107),j=a(104),I=Object(u.a)((function(e){return{root:{flexGrow:1},title:{flexGrow:1},txtField:{marginRight:20,flexGrow:1}}}));function R(e){return"".concat(e)}function B(e){var t=I();return r.a.createElement("div",{className:t.root},r.a.createElement(w.a,{borderbottom:1,elevation:0,position:"fixed",style:{backgroundColor:"white"}},r.a.createElement(C.a,{style:{borderBottom:1,borderTop:0,borderLeft:0,borderRight:0,borderColor:"#e3e3e3",borderStyle:"solid"}},r.a.createElement("div",{style:{width:"20%",display:"flex",marginRight:"50px"}},r.a.createElement(f.a,{style:{color:"black",marginRight:"25px",marginTop:"10px"}},"Distance: "),r.a.createElement(M.a,{track:!1,getAriaValueText:R,defaultValue:500,marks:[{value:1,label:"1m"},{value:500,label:"500m"},{value:1e3,label:"1km"},{value:1500,label:"1.5km"},{value:2e3,label:"2km"},{value:2500,label:"2.5km"},{value:3e3,label:"3km"}],min:1,max:3e3,step:500,onChange:e.onDistanceChange})),r.a.createElement("div",{style:{width:"20%",display:"flex",marginRight:"10px"}},r.a.createElement(f.a,{style:{color:"black",marginRight:"25px",marginTop:"10px"}},"Bedrooms: "),r.a.createElement(j.a,{id:"outlined-number",label:"# of bedrooms",type:"number",InputLabelProps:{shrink:!0},min:1,onChange:e.onBedroomsChange})),r.a.createElement("div",{style:{width:"20%",display:"flex"}},r.a.createElement(f.a,{style:{color:"black",marginRight:"25px",marginTop:"10px"}},"Bathrooms: "),r.a.createElement(j.a,{id:"outlined-number",label:"# of bathrooms",type:"number",InputLabelProps:{shrink:!0},min:1,onChange:e.onBathroomsChange})))))}var O=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).refreshListings=function(t,a,n,r){e.setState({lat:t,lng:a}),fetch(e.API_URL+"/property?lat=".concat(t,"&lng=").concat(a,"&beds=").concat(n||e.state.beds,"&baths=").concat(r||e.state.baths)).then((function(e){return e.json()})).then((function(t){e.setState({listings:t})}))},e.updateLngLat=function(t){e.setState({lat:t.lat,lng:t.lng})},e.state={listings:[],distance:500,lat:44.2312,lng:-76.486,beds:"",baths:""},e.API_URL="https://findlivingspace.herokuapp.com",e}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return this.state.listings?r.a.createElement("div",null,r.a.createElement(B,{onDistanceChange:function(t,a){e.setState({distance:a})},onBedroomsChange:function(t){var a=!isNaN(t.target.value)&&parseInt(t.target.value)>0?t.target.value:"";e.setState({beds:a}),e.refreshListings(e.state.lat,e.state.lng,a,e.state.baths)},onBathroomsChange:function(t){var a=!isNaN(t.target.value)&&parseInt(t.target.value)>0?t.target.value:"";e.setState({baths:a}),e.refreshListings(e.state.lat,e.state.lng,e.state.beds,a)}}),r.a.createElement("div",{style:{width:"50%",float:"left",marginTop:54}},this.state.listings.map((function(e,t){return r.a.createElement(k,{address:e.address,link:e.link,bedrooms:e.bed,bathrooms:e.bath,price:e.price,unit:e.unit,key:t})}))),r.a.createElement(L,{listings:this.state.listings,refreshListings:this.refreshListings,distance:this.state.distance,updateLngLat:this.updateLngLat})):r.a.createElement("h1",null,"Loading...")}}]),t}(r.a.Component);var S=function(){return r.a.createElement(O,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[49,1,2]]]);
//# sourceMappingURL=main.06b7232b.chunk.js.map